#!/usr/bin/env zshd

# Usage:
# zc_debug "message"
# zc_debug --dumpenv
zc_debug () {
  if [[ $ZDEBUG != true ]]; then
    echo "Debug mode is not enabled"
    return 0
  fi

  autoload -Uz __zc_debug_dumpenv __zc_debug_print

  case "$1" in
    --dumpenv)
      __zc_debug_dumpenv
      ;;
    *)
      __zc_debug_print "$@"
      ;;
  esac
}
